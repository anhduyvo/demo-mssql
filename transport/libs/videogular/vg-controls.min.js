/**
 * @license videogular v1.4.3 http://videogular.com
 * Two Fucking Developers http://twofuckingdevelopers.com
 * License: MIT
 */
angular.module("com.2fdevs.videogular.plugins.controls",[]).run(["$templateCache",function(n){n.put("vg-templates/vg-controls",'<div class="controls-container" ng-mousemove="onMouseMove()" ng-class="animationClass" ng-transclude><\/div>')}]).directive("vgControls",["$timeout","VG_STATES",function(n,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-controls"},scope:{vgAutohide:"=?",vgAutohideTime:"=?"},link:function(i,r,u,f){var o=2e3,e;i.API=f;i.onMouseMove=function(){i.vgAutohide&&i.showControls()};i.setAutohide=function(r){r&&f.currentState==t.PLAY?e=n(i.hideControls,o):(i.animationClass="",n.cancel(e),i.showControls())};i.setAutohideTime=function(n){o=n};i.hideControls=function(){i.animationClass="hide-animation"};i.showControls=function(){i.animationClass="show-animation";n.cancel(e);i.vgAutohide&&f.currentState==t.PLAY&&(e=n(i.hideControls,o))};f.isConfig?i.$watch("API.config",function(){if(i.API.config){var n=i.API.config.plugins.controls.autohide||!1,t=i.API.config.plugins.controls.autohideTime||2e3;i.vgAutohide=n;i.vgAutohideTime=t;i.setAutohideTime(t);i.setAutohide(n)}}):(i.vgAutohide!=undefined&&i.$watch("vgAutohide",i.setAutohide),i.vgAutohideTime!=undefined&&i.$watch("vgAutohideTime",i.setAutohideTime))}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-fullscreen-button",'<button class="iconButton" ng-click="onClickFullScreen()" ng-class="fullscreenIcon" aria-label="Toggle full screen" type="button"> <\/button>')}]).directive("vgFullscreenButton",[function(){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-fullscreen-button"},link:function(n,t,i,r){n.onChangeFullScreen=function(t){n.fullscreenIcon={enter:!t,exit:t}};n.onClickFullScreen=function(){r.toggleFullScreen()};n.fullscreenIcon={enter:!0};n.$watch(function(){return r.isFullScreen},function(t,i){if(t!=i)n.onChangeFullScreen(t)})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-play-pause-button",'<button class="iconButton" ng-click="onClickPlayPause()" ng-class="playPauseIcon" aria-label="Play/Pause" type="button"><\/button>')}]).directive("vgPlayPauseButton",["VG_STATES",function(n){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-play-pause-button"},link:function(t,i,r,u){t.setState=function(i){switch(i){case n.PLAY:t.playPauseIcon={pause:!0};break;case n.PAUSE:t.playPauseIcon={play:!0};break;case n.STOP:t.playPauseIcon={play:!0}}};t.onClickPlayPause=function(){u.playPause()};t.playPauseIcon={play:!0};t.$watch(function(){return u.currentState},function(n){t.setState(n)})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-playback-button",'<button class="playbackValue iconButton" ng-click="onClickPlayback()">{{playback}}x<\/button>')}]).directive("vgPlaybackButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-playback-button"},scope:{vgSpeeds:"=?"},link:function(n,t,i,r){n.playback="1";n.setPlayback=function(t){n.playback=t;r.setPlayback(parseFloat(t))};n.onClickPlayback=function(){var t=n.vgSpeeds||["0.5","1","1.5","2"],i=t.indexOf(n.playback.toString())+1;n.playback=i>=t.length?t[0]:t[i];n.setPlayback(n.playback)};n.$watch(function(){return r.playback},function(t,i){t!=i&&n.setPlayback(t)})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarBuffer",[function(){return{restrict:"E",require:"^videogular",link:function(n,t,i,r){var u=0;n.onUpdateBuffer=function(n){typeof n=="number"&&r.totalTime?(u=100*(n/r.totalTime),t.css("width",u+"%")):t.css("width",0)};n.$watch(function(){return r.bufferEnd},function(t){n.onUpdateBuffer(t)})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-scrub-bar-cue-points",'<div class="cue-point-timeline"><div ng-repeat="cuePoint in vgCuePoints" class="cue-point" ng-style="cuePoint.$$style"><\/div><\/div>')}]).directive("vgScrubBarCuePoints",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-scrub-bar-cue-points"},scope:{vgCuePoints:"="},link:function(n,t,i,r){n.onPlayerReady=function(){n.updateCuePoints(n.vgCuePoints)};n.updateCuePoints=function(n){var o,i,u;if(n)for(o=parseInt(t[0].clientWidth),i=0,u=n.length;i<u;i++){var s=n[i].timeLapse.end>=0?n[i].timeLapse.end:n[i].timeLapse.start+1,f=(s-n[i].timeLapse.start)*1e3,h=n[i].timeLapse.start*100/Math.round(r.totalTime/1e3)+"%",e=0;typeof f=="number"&&r.totalTime&&(e=f*100/r.totalTime+"%");n[i].$$style={width:e,left:h}}};n.$watch("vgCuePoints",n.updateCuePoints);n.$watch(function(){return r.totalTime},function(t){t>0&&n.onPlayerReady()})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarCurrentTime",[function(){return{restrict:"E",require:"^videogular",link:function(n,t,i,r){var u=0;n.onUpdateTime=function(n){typeof n=="number"&&r.totalTime?(u=100*(n/r.totalTime),t.css("width",u+"%")):t.css("width",0)};n.$watch(function(){return r.currentTime},function(t){n.onUpdateTime(t)})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-scrub-bar-thumbnails",'<div class="vg-thumbnails" ng-show="thumbnails" ng-style="thumbnailContainer"><div class="image-thumbnail" ng-style="thumbnails"><\/div><\/div><div class="background"><\/div>')}]).directive("vgScrubBarThumbnails",["VG_UTILS",function(n){return{restrict:"E",require:"^videogular",templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-scrub-bar-thumbnails"},scope:{vgThumbnails:"="},link:function(t,i,r,u){var s=0,e=0,o=i[0].querySelector(".background"),h=typeof t.vgThumbnails=="string",f;t.thumbnails=!1;t.thumbnailContainer={};t.getOffset=function(n){for(var t=n.target,i=0;t&&!isNaN(t.offsetLeft);)i+=t.offsetLeft-t.scrollLeft,t=t.offsetParent;return n.clientX-i};t.onLoadThumbnails=function(n){s=n.currentTarget.naturalWidth;e=s/100};t.onLoadThumbnail=function(n){e=n.currentTarget.naturalWidth};t.updateThumbnails=function(n){var c=Math.round(n*100/(u.totalTime/1e3)),l=o.scrollWidth*c/100-e/2,a,v,i,f,y,r;if(h)a=Math.round(s*c/100),t.thumbnailContainer={width:e+"px",left:l+"px"},t.thumbnails={"background-image":'url("'+t.vgThumbnails+'")',"background-position":-a+"px 0px"};else for(v=u.totalTime/o.scrollWidth/1e3,i={start:Math.floor(n-v/2),end:Math.ceil(n)},i.start<0&&(i.start=0),i.end>u.totalTime&&(i.end=u.totalTime),t.thumbnailContainer={left:l+"px"},t.thumbnails={"background-image":"none"},f=0,y=t.vgThumbnails.length;f<y;f++)if(r=t.vgThumbnails[f],r.timeLapse.end>=0){if(i.start>=r.timeLapse.start&&(i.end<=r.timeLapse.end||i.end<=r.timeLapse.start)){t.thumbnails={"background-image":'url("'+r.params.thumbnail+'")'};break}}else if(r.timeLapse.start>=i.start&&r.timeLapse.start<=i.end){t.thumbnails={"background-image":'url("'+r.params.thumbnail+'")'};break}};t.onMouseMove=function(n){var i=Math.round(n.offsetX*u.mediaElement[0].duration/o.scrollWidth);t.updateThumbnails(i);t.$apply()};t.onTouchMove=function(n){var i=n.touches,r=t.getOffset(i[0]),f=Math.round(r*u.mediaElement[0].duration/o.scrollWidth);t.updateThumbnails(f);t.$apply()};t.onMouseLeave=function(){t.thumbnails=!1;t.$apply()};t.onTouchLeave=function(){t.thumbnails=!1;t.$apply()};t.onDestroy=function(){i.unbind("touchmove",t.onTouchMove);i.unbind("touchleave",t.onTouchLeave);i.unbind("touchend",t.onTouchLeave);i.unbind("mousemove",t.onMouseMove);i.unbind("mouseleave",t.onMouseLeave)};h?(f=new Image,f.onload=t.onLoadThumbnails.bind(t),f.src=t.vgThumbnails):(f=new Image,f.onload=t.onLoadThumbnail.bind(t),f.src=t.vgThumbnails[0].params.thumbnail);n.isMobileDevice()?(i.bind("touchmove",t.onTouchMove),i.bind("touchleave",t.onTouchLeave),i.bind("touchend",t.onTouchLeave)):(i.bind("mousemove",t.onMouseMove),i.bind("mouseleave",t.onMouseLeave));t.$on("destroy",t.onDestroy.bind(t))}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-scrub-bar",'<div role="slider" aria-valuemax="{{ariaTime(API.totalTime)}}" aria-valuenow="{{ariaTime(API.currentTime)}}" aria-valuemin="0" aria-label="Time scrub bar" tabindex="0" ng-keydown="onScrubBarKeyDown($event)"><\/div><div class="container" ng-transclude><\/div>')}]).directive("vgScrubBar",["VG_STATES","VG_UTILS",function(n,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-scrub-bar"},scope:{vgThumbnails:"="},link:function(i,r,u,f){var e=!1,h=!1,s=!1,v=37,y=39,p=5,c=0,l=0,o=r[0].querySelector("div[role=slider]"),a;i.thumbnails=!1;i.thumbnailContainer={};i.API=f;i.onLoadThumbnails=function(n){c=n.path[0].naturalWidth;l=c/100};i.ariaTime=function(n){return Math.round(n/1e3)};i.getOffset=function(n){for(var t=n.target,i=0;t&&!isNaN(t.offsetLeft);)i+=t.offsetLeft-t.scrollLeft,t=t.offsetParent;return n.clientX-i};i.onScrubBarTouchStart=function(n){var t=n.originalEvent||n,r=t.touches,u=i.getOffset(r[0]);e=!0;h&&(s=!0);f.pause();f.seekTime(u*f.mediaElement[0].duration/o.scrollWidth);i.$apply()};i.onScrubBarTouchEnd=function(n){var t=n.originalEvent||n;s&&(s=!1,f.play());e=!1;i.$apply()};i.onScrubBarTouchMove=function(n){var s=n.originalEvent||n,h=s.touches,t=i.getOffset(h[0]),r,u;i.vgThumbnails&&i.vgThumbnails.length&&(r=Math.round(t*f.mediaElement[0].duration/o.scrollWidth),u=Math.round(r*100/(f.totalTime/1e3)),i.updateThumbnails(u));e&&f.seekTime(t*f.mediaElement[0].duration/o.scrollWidth);i.$apply()};i.onScrubBarTouchLeave=function(){e=!1;i.thumbnails=!1;i.$apply()};i.onScrubBarMouseDown=function(n){n=t.fixEventOffset(n);e=!0;h&&(s=!0);f.pause();f.seekTime(n.offsetX*f.mediaElement[0].duration/o.scrollWidth);i.$apply()};i.onScrubBarMouseUp=function(){s&&(s=!1,f.play());e=!1;i.$apply()};i.onScrubBarMouseMove=function(n){if(i.vgThumbnails&&i.vgThumbnails.length){var r=Math.round(n.offsetX*f.mediaElement[0].duration/o.scrollWidth),u=Math.round(r*100/(f.totalTime/1e3));i.updateThumbnails(u)}e&&(n=t.fixEventOffset(n),f.seekTime(n.offsetX*f.mediaElement[0].duration/o.scrollWidth));i.$apply()};i.onScrubBarMouseLeave=function(){e=!1;i.thumbnails=!1;i.$apply()};i.onScrubBarKeyDown=function(n){var t=f.currentTime/f.totalTime*100;n.which===v||n.keyCode===v?(f.seekTime(t-p,!0),n.preventDefault()):(n.which===y||n.keyCode===y)&&(f.seekTime(t+p,!0),n.preventDefault())};i.updateThumbnails=function(n){var t=Math.round(c*n/100),r=o.scrollWidth*n/100-l/2;i.thumbnailContainer={width:l+"px",left:r+"px"};i.thumbnails={"background-image":'url("'+i.vgThumbnails+'")',"background-position":-t+"px 0px"}};i.setState=function(t){if(!e)switch(t){case n.PLAY:h=!0;break;case n.PAUSE:h=!1;break;case n.STOP:h=!1}};i.onDestroy=function(){r.unbind("touchstart",i.onScrubBarTouchStart);r.unbind("touchend",i.onScrubBarTouchEnd);r.unbind("touchmove",i.onScrubBarTouchMove);r.unbind("touchleave",i.onScrubBarTouchLeave);r.unbind("mousedown",i.onScrubBarMouseDown);r.unbind("mouseup",i.onScrubBarMouseUp);r.unbind("mousemove",i.onScrubBarMouseMove);r.unbind("mouseleave",i.onScrubBarMouseLeave)};i.$watch(function(){return f.currentState},function(n,t){n!=t&&i.setState(n)});i.vgThumbnails&&(a=new Image,a.onload=i.onLoadThumbnails.bind(i),a.src=i.vgThumbnails);t.isMobileDevice()?(r.bind("touchstart",i.onScrubBarTouchStart),r.bind("touchend",i.onScrubBarTouchEnd),r.bind("touchmove",i.onScrubBarTouchMove),r.bind("touchleave",i.onScrubBarTouchLeave)):(r.bind("mousedown",i.onScrubBarMouseDown),r.bind("mouseup",i.onScrubBarMouseUp),r.bind("mousemove",i.onScrubBarMouseMove),r.bind("mouseleave",i.onScrubBarMouseLeave));i.$on("destroy",i.onDestroy.bind(i))}}}]);angular.module("com.2fdevs.videogular.plugins.controls").directive("vgTimeDisplay",[function(){return{require:"^videogular",restrict:"E",link:function(n,t,i,r){n.currentTime=r.currentTime;n.timeLeft=r.timeLeft;n.totalTime=r.totalTime;n.isLive=r.isLive;n.$watch(function(){return r.currentTime},function(t){n.currentTime=t});n.$watch(function(){return r.timeLeft},function(t){n.timeLeft=t});n.$watch(function(){return r.totalTime},function(t){n.totalTime=t});n.$watch(function(){return r.isLive},function(t){n.isLive=t})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-mute-button",'<button type="button" class="iconButton" ng-class="muteIcon" ng-click="onClickMute()" ng-focus="onMuteButtonFocus()" ng-blur="onMuteButtonLoseFocus()" ng-mouseleave="onMuteButtonLeave()" ng-keydown="onMuteButtonKeyDown($event)" aria-label="Mute"><\/button>')}]).directive("vgMuteButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-mute-button"},link:function(n,t,i,r){var u=!1,f=38,e=40,o=.05;n.onClickMute=function(){u?n.currentVolume=n.defaultVolume:(n.currentVolume=0,n.muteIcon={mute:!0});u=!u;r.setVolume(n.currentVolume)};n.onMuteButtonFocus=function(){n.volumeVisibility="visible"};n.onMuteButtonLoseFocus=function(){n.volumeVisibility="hidden"};n.onMuteButtonLeave=function(){document.activeElement.blur()};n.onMuteButtonKeyDown=function(n){var i=r.volume!=null?r.volume:1,t;n.which===f||n.keyCode===f?(t=i+o,t>1&&(t=1),r.setVolume(t),n.preventDefault()):(n.which===e||n.keyCode===e)&&(t=i-o,t<0&&(t=0),r.setVolume(t),n.preventDefault())};n.onSetVolume=function(t){n.currentVolume=t;u=n.currentVolume===0;u?t>0&&(n.defaultVolume=t):n.defaultVolume=t;var i=Math.round(t*100);i==0?n.muteIcon={mute:!0}:i>0&&i<25?n.muteIcon={level0:!0}:i>=25&&i<50?n.muteIcon={level1:!0}:i>=50&&i<75?n.muteIcon={level2:!0}:i>=75&&(n.muteIcon={level3:!0})};n.defaultVolume=1;n.currentVolume=n.defaultVolume;n.muteIcon={level3:!0};n.onSetVolume(r.volume);n.$watch(function(){return r.volume},function(t,i){if(t!=i)n.onSetVolume(t)})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(n){n.put("vg-templates/vg-volume-bar",'<div class="verticalVolumeBar">              <div class="volumeBackground" ng-click="onClickVolume($event)" ng-mousedown="onMouseDownVolume()" ng-mouseup="onMouseUpVolume()" ng-mousemove="onMouseMoveVolume($event)" ng-mouseleave="onMouseLeaveVolume()">                <div class="volumeValue"><\/div>                <div class="volumeClickArea"><\/div>              <\/div>            <\/div>')}]).directive("vgVolumeBar",["VG_UTILS",function(n){return{restrict:"E",require:"^videogular",templateUrl:function(n,t){return t.vgTemplate||"vg-templates/vg-volume-bar"},link:function(t,i,r,u){var f=!1,e=angular.element(i[0].getElementsByClassName("volumeBackground")),o=angular.element(i[0].getElementsByClassName("volumeValue"));t.onClickVolume=function(t){t=n.fixEventOffset(t);var i=parseInt(e.prop("offsetHeight")),r=t.offsetY*100/i,f=1-r/100;u.setVolume(f)};t.onMouseDownVolume=function(){f=!0};t.onMouseUpVolume=function(){f=!1};t.onMouseLeaveVolume=function(){f=!1};t.onMouseMoveVolume=function(t){if(f){t=n.fixEventOffset(t);var i=parseInt(e.prop("offsetHeight")),r=t.offsetY*100/i,o=1-r/100;u.setVolume(o)}};t.updateVolumeView=function(n){n=n*100;o.css("height",n+"%");o.css("top",100-n+"%")};t.onChangeVisibility=function(n){i.css("visibility",n)};i.css("visibility",t.volumeVisibility);t.$watch("volumeVisibility",t.onChangeVisibility);t.updateVolumeView(u.volume);t.$watch(function(){return u.volume},function(n,i){n!=i&&t.updateVolumeView(n)})}}}]);angular.module("com.2fdevs.videogular.plugins.controls").directive("vgVolume",["VG_UTILS",function(n){return{restrict:"E",link:function(t,i){t.onMouseOverVolume=function(){t.$evalAsync(function(){t.volumeVisibility="visible"})};t.onMouseLeaveVolume=function(){t.$evalAsync(function(){t.volumeVisibility="hidden"})};t.onDestroy=function(){i.unbind("mouseover",t.onScrubBarTouchStart);i.unbind("mouseleave",t.onScrubBarTouchEnd)};n.isMobileDevice()?i.css("display","none"):(t.volumeVisibility="hidden",i.bind("mouseover",t.onMouseOverVolume),i.bind("mouseleave",t.onMouseLeaveVolume));t.$on("destroy",t.onDestroy.bind(t))}}}]);
//# sourceMappingURL=vg-controls.min.js.map
